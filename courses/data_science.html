<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Data Science – mag4</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"express",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":"",
"website_privacy_policy_url":"https://hezel2000.github.io/mag4/about.html"
  ,
"language":"en"
  });
});
</script> 
  
<link rel="stylesheet" href="gdpr/cookieconsent-3.0.1/cookieconsent.css" media="print" onload="this.media='all'">


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">mag4</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <span class="nav-link">
<span class="menu-text">OLAT Wiki Einträge.qmd</span>
    </span>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../microprobe/epma-intro.html"> 
<span class="menu-text">Microprobe</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../sem/sem-intro.html"> 
<span class="menu-text">SEM</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../mu_xrf/mu_xrf-intro.html"> 
<span class="menu-text">µ.XRF</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../periphery/periphery-intro.html"> 
<span class="menu-text">Periphery</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../mass-spec/mass-spec-intro.html"> 
<span class="menu-text">Mass Spectrometry</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../resources/resources-intro.html"> 
<span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-courses" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Courses</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-courses">    
        <li>
    <a class="dropdown-item" href="../courses/data_science.html">
 <span class="dropdown-text">Data Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://hezel2000.quarto.pub/dmg-data-science-short-course">
 <span class="dropdown-text">Data Science Short Course</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../courses/cosmochemistry.html">
 <span class="dropdown-text">Kosmochemie</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://hezel2000.quarto.pub/mikroanalytik/">
 <span class="dropdown-text">Mikroanalytik</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://hezel2000.quarto.pub/geochemie-1/">
 <span class="dropdown-text">Geochemie I - Kosmochemie-Teil</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://hezel2000.quarto.pub/umweltwissenschaften-mikroanalytik/">
 <span class="dropdown-text">Umweltwissenschaften - Mikroanalytik-Teil</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../allapps/allapps.html"> 
<span class="menu-text">All Apps</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#course-link" id="toc-course-link" class="nav-link active" data-scroll-target="#course-link">Course Link</a></li>
  <li><a href="#course-overview" id="toc-course-overview" class="nav-link" data-scroll-target="#course-overview">Course Overview</a>
  <ul class="collapse">
  <li><a href="#einführung-installation-ein-erstes-programm-1.1-1.4-1142" id="toc-einführung-installation-ein-erstes-programm-1.1-1.4-1142" class="nav-link" data-scroll-target="#einführung-installation-ein-erstes-programm-1.1-1.4-1142">1 Einführung, Installation &amp; ein erstes Programm: 1.1 – 1.4 [11:42]</a></li>
  <li><a href="#rufe-eine-selbst-geschriebene-mischungs-funktion-auf-2.1-2.5-3917" id="toc-rufe-eine-selbst-geschriebene-mischungs-funktion-auf-2.1-2.5-3917" class="nav-link" data-scroll-target="#rufe-eine-selbst-geschriebene-mischungs-funktion-auf-2.1-2.5-3917">2 Rufe eine selbst geschriebene Mischungs-Funktion auf: 2.1 – 2.5 [39:17]</a></li>
  <li><a href="#erste-schritte-in-data-science-3.1-3.5-4321" id="toc-erste-schritte-in-data-science-3.1-3.5-4321" class="nav-link" data-scroll-target="#erste-schritte-in-data-science-3.1-3.5-4321">3 Erste Schritte in ›Data Science‹: 3.1 – 3.5 [43:21]</a></li>
  <li><a href="#interaktive-elemente-erste-programme-4.1-4.5-4142" id="toc-interaktive-elemente-erste-programme-4.1-4.5-4142" class="nav-link" data-scroll-target="#interaktive-elemente-erste-programme-4.1-4.5-4142">4 Interaktive Elemente &amp; erste Programme: 4.1 – 4.5 [41:42]</a></li>
  <li><a href="#data-science-mit-api-requests-daten-auswertung-5.1-5.5-10322" id="toc-data-science-mit-api-requests-daten-auswertung-5.1-5.5-10322" class="nav-link" data-scroll-target="#data-science-mit-api-requests-daten-auswertung-5.1-5.5-10322">5 Data Science mit API Requests &amp; Daten-Auswertung 5.1 – 5.5 [1:03:22]</a></li>
  </ul></li>
  <li><a href="#die-vielen-möglichkeiten-diagramme-zu-erstellen-6.1-6.4-5522" id="toc-die-vielen-möglichkeiten-diagramme-zu-erstellen-6.1-6.4-5522" class="nav-link" data-scroll-target="#die-vielen-möglichkeiten-diagramme-zu-erstellen-6.1-6.4-5522">6 Die vielen Möglichkeiten Diagramme zu erstellen 6.1 – 6.4 [55:22]</a></li>
  <li><a href="#stabile-isotope-fraktionierung-darstellung-7.1-7.4-4029" id="toc-stabile-isotope-fraktionierung-darstellung-7.1-7.4-4029" class="nav-link" data-scroll-target="#stabile-isotope-fraktionierung-darstellung-7.1-7.4-4029">7 Stabile Isotope: Fraktionierung &amp; Darstellung 7.1 – 7.4 [40:29]</a></li>
  <li><a href="#mikroanalytik-linieninterferenzen-charakteristischer-röntgenstrahlung-8.1-8.3-4358" id="toc-mikroanalytik-linieninterferenzen-charakteristischer-röntgenstrahlung-8.1-8.3-4358" class="nav-link" data-scroll-target="#mikroanalytik-linieninterferenzen-charakteristischer-röntgenstrahlung-8.1-8.3-4358">8 Mikroanalytik: Linieninterferenzen charakteristischer Röntgenstrahlung: 8.1 – 8.3 [43:58]</a></li>
  <li><a href="#special-edition-search-the-data-science-script-database-9.1-2614" id="toc-special-edition-search-the-data-science-script-database-9.1-2614" class="nav-link" data-scroll-target="#special-edition-search-the-data-science-script-database-9.1-2614">9 Special Edition: Search the Data Science Script Database: 9.1 [26:14]</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data Science</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="course-link" class="level1">
<h1>Course Link</h1>
<p>Click <a href="https://geocourses.streamlit.app/Data_Science
">here</a> to go to the Data Science course.</p>
<p><strong>Die Veranstaltung besteht aus</strong><br>
- ca. 100 Seiten Skript, aufgeteilt in die 3 Teilskripte - ca. 50 Videos mit insgesamt über 7 Stunden Material - über 100 Jupyter Notebooks mit &gt;100 Fragen, Aufgaben &amp; Beispielen - &gt; 00 Selbstlern-Fragen mit Antworten - &gt;20 Aufgaben zur gemeinsamen Lösung in den Präsenzphasen und den Semester-Projekten - zahlreiche zusätzlicher Dateien für verschiedene Aufgaben</p>
<!-- # =============================================================================
# **Einordnung der Einheiten für die Abschlussprüfung:**
# Ich ergänze die Überschriften um die beiden Symbole ◉ (Relevanz) und ▲ (Verständnis). Die Symbole haben eine von 3 Farben,
# welche anzeigen, wie relevant oder wichtig für das Verständnis ein Thema ist. Die Farben sind: orange: hoch, grün: mittel,
# blau: weniger.
# ============================================================================= -->
</section>
<section id="course-overview" class="level1">
<h1>Course Overview</h1>
<section id="einführung-installation-ein-erstes-programm-1.1-1.4-1142" class="level2">
<h2 class="anchored" data-anchor-id="einführung-installation-ein-erstes-programm-1.1-1.4-1142">1 Einführung, Installation &amp; ein erstes Programm: 1.1 – 1.4 [11:42]</h2>
<p>In der ersten Stunde starten wir gemeinsam mit mit der Installation von Jupyter Notebooks, bzw. Anaconda. Wir lernen das Interface ein wenig kennen und schreiben ein erstes kleines Programm. Außerdem erkläre ich wie dieser Kurs im Flipped Classroom Format abläuft.</p>
</section>
<section id="rufe-eine-selbst-geschriebene-mischungs-funktion-auf-2.1-2.5-3917" class="level2">
<h2 class="anchored" data-anchor-id="rufe-eine-selbst-geschriebene-mischungs-funktion-auf-2.1-2.5-3917">2 Rufe eine selbst geschriebene Mischungs-Funktion auf: 2.1 – 2.5 [39:17]</h2>
<p>Zum Programmieren verwenden wir Befehle, das sollte recht einleuchtend sein. Nun hat Python natürlich keine Befehle für die Geochemie, um mit so einem beispielsweise direkt auszurechnen wie die neue Zusammensetzung einer Schmelze ist, nachdem sie sich mit einer anderen gemischt hat. Praktisch wäre es aber schon. Nicht nur in der Geochemie, sondern für sehr vieles. Daher ist es möglich eigenen Befehle zu definieren – etwas zur Mischung von Magmen – um diese anschließend immer wieder zu verwenden. Es ist sogar möglich mehrere Befehle in einer Datei zu speichern, und aus dieser ›Bibliothek‹ immer wieder aufzurufen. Wie das geht lernen wir in dieser Einheit.</p>
</section>
<section id="erste-schritte-in-data-science-3.1-3.5-4321" class="level2">
<h2 class="anchored" data-anchor-id="erste-schritte-in-data-science-3.1-3.5-4321">3 Erste Schritte in ›Data Science‹: 3.1 – 3.5 [43:21]</h2>
<p>st.write(’In den vergangenen Jahren werden immer mehr Daten publiziert, deren Menge zukünftig noch schneller anwachsen wird. Es ist nicht leicht, all den Publikationen dieser erfreulich großen Mengen immer neuer Informationen zu folgen. Jupyter Notebooks wurden gerade auch dafür entwickelt, auf große Mengen an Daten zuzugreifen, diese zu visualisieren, analysieren und auf Problemstellungen anzuwenden. Natürlich ist das nur möglich, wenn die Daten in entsprechenden Formaten vorliegen. Oftmals ist daher im ersten Schritt ein ›Daten clean-up‹ notwendig. Seit 2020 gibt es nun endlich mehrere Initiativen, darunter so große wie die Nationale Forschungsdatenbank Initiative (NFDI) der DFG, GWK und anderer, die versuchen gemeinsam mit internationalen Partnern Daten besser verfügbar zu machen. Schon bestehende Datenbanken wie GeoROC, EarthChem oder auch MetBase erlauben schon seit langer Zeit solchen Zugang, und damit Data Science in z.B. der Geo- und Kosmochemie. In dieser Einheit steigen wir in das neue Feld der Data Science in der Mineralogie ein.</p>
</section>
<section id="interaktive-elemente-erste-programme-4.1-4.5-4142" class="level2">
<h2 class="anchored" data-anchor-id="interaktive-elemente-erste-programme-4.1-4.5-4142">4 Interaktive Elemente &amp; erste Programme: 4.1 – 4.5 [41:42]</h2>
<p>Nun fehlt uns nur noch wenig Rüstzeug, um erste, leistungsfähige Programme zu schreiben. Dieses Verbleibende lernen wir in dieser Einheit, um dann tatsächlich 2 Programme zu bauen, welche Datenbank-Daten effektiv darstellen. Vor allem lernen wir hier interaktive Möglichkeiten kennen die es uns ermöglichen, mit den Daten über eine graphische Benutzeroberfläche direkt zu interagieren, diese zu manipulieren und immer wieder neu darzustellen.</p>
</section>
<section id="data-science-mit-api-requests-daten-auswertung-5.1-5.5-10322" class="level2">
<h2 class="anchored" data-anchor-id="data-science-mit-api-requests-daten-auswertung-5.1-5.5-10322">5 Data Science mit API Requests &amp; Daten-Auswertung 5.1 – 5.5 [1:03:22]</h2>
<p>Eine besonders effektive und interessante Art auf Daten zuzugreifen ist über ›Application Programming Interfaces‹ – kurz: API. Der Begriff API ist sehr weit verbreitet, und sollte man sich in jedem Fall merken. In einer idealen Welt hätte man gar keine eigenen Datenbanken mehr, sondern würde nur noch über APIs auf Datenbanken zugreifen, sich die gewünschten Daten herunter laden, und diese dann auf dem eigenen Computer auswerten. Ein Großteil des Internets, und viele der erfolgreichsten Apps auf dem Smartphone funktionieren genau so: über ein API werden die gewünschten Daten geladen, und die App macht letztlich nicht mehr als ein Interface zur verfügung zu stellen, um diese Daten entsprechend auszuwählen und darzustellen. Das Interface ist dabei ein Graphical User Interface – kurz GUI. Ebenfalls ein Begriff, den man kennen sollte. Eine GUI ist letztlich nichts anders als das, was wir mit ›Interact‹ kennen gelernt haben. D.h., mit einer API und einer GUI machen wir exakt das, was fast jede unserer App auf dem Smartphone macht. Das hört sich alles großartig an – und ist es auch! Wäre da nicht das eine Problem: viele geowissenschaftliche Datenbanken haben – noch – keine vernünftige API. Glücklicherweise ändert sich daran gerade viel. Fun Fact Wir hier in Frankfurt sind an dieser Änderung recht zentral beteiligt.</p>
</section>
</section>
<section id="die-vielen-möglichkeiten-diagramme-zu-erstellen-6.1-6.4-5522" class="level1">
<h1>6 Die vielen Möglichkeiten Diagramme zu erstellen 6.1 – 6.4 [55:22]</h1>
<p>In dieser letzten Einheit Daten darzustellen zeige ich – ansatzweise – wie vielfältig mit Jupyter Notebooks, bzw. Python geplottet werden kann, bzw. wie enorm flexibel interaktive Elemente genutzt werden können. Mit dem Package ›geopandas‹ lernen wir außerdem die Möglichkeit kennen, Daten auf Karten darzustellen – natürlich geht auch das interaktiv. Die Bedeutung guter, aussagekräftiger, übersichtlicher, und dabei durchaus komplexer Diagramme kann nicht ausreichend unterstrichen werden. Diagramme und Abbildungen bilden fast immer den Kern eines sehr guten papers, Vortrags oder natürlich einer Abschlussarbeit. Das gelingt jedoch nur mit dem entsprechenden Werkzeug. Matplotlib gehört sicherlich zu den besten Werkzeugen, um wissenschaftliche Diagramme und Abbildungen zu erzeugen. Die hohe Flexibilität interaktiver Elemente erlaubt es sehr schnell und übersichtlich Daten zusammen mit anderen Daten unterschiedlichster Quellen und beliebiger Menge zu visualisieren und analysieren. Das ist ein sehr guter, erster Schritt, um Daten zu verstehen, um dann in die Detail-Analyse zu gehen.</p>
</section>
<section id="stabile-isotope-fraktionierung-darstellung-7.1-7.4-4029" class="level1">
<h1>7 Stabile Isotope: Fraktionierung &amp; Darstellung 7.1 – 7.4 [40:29]</h1>
<p>Mit dieser Einheit gehen wir weiter zu Modellierungen. Wir haben uns nun eine erste, solide Sicherheit erarbeitet, Python Codes mit Jupyter Notebooks zu erstellen, und dabei die Vorzüge von Jupyter Notebooks für Data Science kennen gelernt. Wir haben gesehen, wie man Daten darstellt, filtert und selektiert, interaktiv verfügbar macht, mit APIs auf Datenbanken zugreift, Daten in großen Mengen analysiert um etwas Anomalien zu studieren, und mehr. Nun werden wir vermehrt anwenden, was wir können – und trotzdem weiter Neues kennen lernen, und diese weiterhin mit dem bislang gelernten verbinden. Dazu schauen wir uns in dieser Einheit an, wie man einfach modelliert. Dazu verwenden wir Funktionen, welche einen Prozess – oder später etwas komplexer – ein Modell beschreiben. Du lernst wie man Funktionen darstellt, welche Funktionen schon eingebaut per Befehl angewendet werden können (hier: lineare Regression), und als Abschluss, wie man leicht Fehlerbalken an Daten bekommt.</p>
</section>
<section id="mikroanalytik-linieninterferenzen-charakteristischer-röntgenstrahlung-8.1-8.3-4358" class="level1">
<h1>8 Mikroanalytik: Linieninterferenzen charakteristischer Röntgenstrahlung: 8.1 – 8.3 [43:58]</h1>
<p>st.write(‘Der Kurs heißt ja Mikroanalytik. Daher soll es nun ein wenig um Mikroanalytik gehen. Außerdem ist es die letzte Einheit von Teil I. Daher soll eine erste Idee vermittelt werden, wie das Semester-Projekt aussehen könnte: nämlich in etwa so wie die Ergebnisse dieser Einheit. Diese sind zwei Programme dazu, wie Linieninterferenzen charakteristischer Röntgenstrahlung identifiziert und visualisiert werden können. Wem das nichts sagt, keine Sorge, im ersten Video gibt es eine kleine Auffrischung/Erklärung, was das ist. Die anschließenden beiden Videos zeigen zwei Programm dazu. Das Thema ist damit aber noch gar nicht vollständig behandelt, sodass sogar das ein Semester-Projekt werden könnte. D.h., ein Semester-Projekt könnte eben so ein Thema durcharbeiten: verschiedene Programme mit einem dann vernünftigen GUI um Interferenzen zu finden, und damit sein Messprogramm an der Mikrosonde, RFA, o.ä. vorzubereiten. Tatsächlich wird eine generelle Idee des Semester-Projekts sein, verwendbare Programme für die Mikroanalytik o.ä. zu erstellen. Dazu dann in der Präsenzphase zu dieser Einheit mehr.’)</p>
</section>
<section id="special-edition-search-the-data-science-script-database-9.1-2614" class="level1">
<h1>9 Special Edition: Search the Data Science Script Database: 9.1 [26:14]</h1>
<p>Das ist keine wirklich eigenständige oder neue Einheit, sondern die Lösung der Aufgabe zur 8. Präsenzveranstaltung.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/Hezel2000\.github\.io\/mag4\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script defer="" src="gdpr/cookieconsent-3.0.1/cookieconsent.umd.js"></script>
<script defer="" src="gdpr/cookieconsent-3.0.1/cookieconsent-init.js"></script>




</body></html>